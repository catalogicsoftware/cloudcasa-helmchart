# CloudCasa Agent Helm Chart

[CloudCasa](https://cloudcasa.io) - Leader in Kubernetes Data Protection and Application Resiliency

## Introduction

The CloudCasa agent is used by the CloudCasa service to perform all backup, restore, and management operations on Kubernetes clusters.  Several methods are available for installing it. The default method is to use kubectl to apply a custom manifest file generated by CloudCasa, which contains all of the appropriate resources, including a unique ClusterID for each cluster being registered. For customers who prefer to use Helm for installation, a CloudCasa agent Helm chart is also available.

The agent Helm chart is made available to users through our Helm repository, which is currently served via GitHub Pages at: https://catalogicsoftware.github.io/cloudcasa-helmchart/

This git repo contains the source for both the agent Helm chart itself and the Helm repo it is served from.

The basic Helm chart is also fed into several downstream repositories for specific partner marketplaces. These include:

* Rancher Apps & Marketplace
* Digital Ocean 1-Click Marketplace
* Nirmata

## Branches

* The main (default) branch contains the Helm chart source
* The gh-pages branch contains the source for the Helm repo

## Updating/Publishing the Helm Chart

Multiple versions of the Helm chart can and do exist at the same time in both the github repo and the Helm repo. Existing versions of the Helm chart should generally not be modified. Instead, a new version should be created whenever changes are required.

To create a new version, copy the sub-directory tree for the latest version (e.g. v3.4.0) to a new one (e.g. v3.4.1) and make any needed modifications to the files in the new one. Then commit the changes to a new branch off of main and create a PR. Github actions have been configured to test charts using the Helm chart-testing tool when a PR is created.

When a PR containing a new chart is merged into the main branch, an action will be triggered to package the new chart for the Helm repo, update the repo index, and publish it. A release and corresponding tag should also be created.

The Helm repo is published using GitHub Pages from the gh-pages branch in the cloudcasa-helmchart repo to https://catalogicsoftware.github.io/cloudcasa-helmchart/. Any changes to the Helm repo not handled by automation, such as updates to the README or logo files, should be submitted as PRs to the gh-pages branch.

*CloudCasa is a trademark of Catalogic Software Inc.*
